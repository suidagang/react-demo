# react hooks

[参考文档](https://juejin.cn/post/6944863057000529933)

注意事项

* 只能在函数内部的最外层调用 Hook，不要在循环、条件判断或者子函数中调用
* 只能在 React 的函数组件中调用 Hook，不要在其他 JavaScript 函数中调用


## **优化相关**

### 1、减少渲染次数

* 默认情况，只要父组件状态变了（不管子组件依不依赖该状态），子组件也会重新渲染
* 一般的优化：
            1、类组件：可以使用 pureComponent ；
            2、函数组件：使用 React.memo ，将函数组件传递给 memo 之后，就会返回一个新的组件，新组件的功能：如果接受到的属性不变，则不重新渲染函数；
* 但是怎么保证属性不会变尼？这里使用 useState ，每次更新都是独立的，const [number,setNumber] = useState(0) 也就是说每次都会生成一个新的值（哪怕这个值没有变化），即使使用了 React.memo ，也还是会重新渲染
* useCallback：接收一个内联回调函数参数和一个依赖项数组（子组件依赖父组件的状态，即子组件会使用到父组件的值） ，useCallback 会返回该回调函数的 memoized 版本，该回调函数仅在某个依赖项改变时才会更新
* useMemo：把创建函数和依赖项数组作为参数传入 useMemo，它仅会在某个依赖项改变时才重新计算 memoized 值。这种优化有助于避免在每次渲染时都进行高开销的计算